## 操作符
操作符是用来操作数据值的，包括算术操作符、位操作符、关系操作符和相等操作符。
>ECMAScript操作符的特点就是它们能够适用于很多值，如字符串、数字值、布尔值、对象。
>操作符在应用于对象的时候，相应的操作符通常会调用对象的valueOf()和toString()方法，以便取得可以操作的值。
### 一元操作符
只能操作一个值的操作符就是一元操作符。
1. 递增和递减操作符
递增和递减操作符各有两个版本：前置型和后置型。
前置型：操作符位于要操作的变量之前，执行前置递增和递减操作时，变量的值是在语句被求值以前改变的。
>前置型操作与以下操作的效果相同：

    var age = 29;
    age = age + 1;

    
    var num1 = 2;
    var num2 = 20;
    var num3 = --num1 + num2;     // 等于21
    var num4 = num1 + num2;       // 等于21

后置型：操作符位于要操作的变量之后，执行后置递增和递减操作时，变量的值是在包含它们的语句被求值以后改变的。

    var num1 = 2;
    var num2 = 20;
    var num3 = num1-- + num2;      // 等于22
    var num4 = num1 + num2;        // 等于21

2. 一元加和减操作符
一元加和减操作符与数学上的加减作用一样。
>在对非数值应用一元操作符时，该操作符会像Number()一样对这个值进行转换。
一元加和减操作符主要用于基本的算术运算，但也可以用于转换数据类型。

    var s1 = "01";
    var s2 = "1.1";
    var s3 = "z";
    var b = false;
    var f = 1.1;
    var o = {
        valueOf: function () {
            return -1;
        }
    };
    s1 = +s1;     // 值变成数值1
    s2 = +s2;     // 值变成数值1.1
    s3 = +s3;     // 值变成NaN
    b = +b;       // 值变成数值0
    f = +f;       // 值未变，仍然是1.1
    o = +o;       // 值变成数值-1

### 位操作符
位操作符即按内存中表示数值的位来操作数值。
>ECMAScript 中的数值都以IEEE-754 64位格式存储，但位操作符并不直接操作64位的值，而是先把64位的值转换成32位的整数，然后执行操作，最后再把结果转换回64位。
1. 按位非(NOT): 按位非的结果就是返回数值的反码(本质就是操作数的负值)。按位非操作符由一个波浪线（~）表示。

    var num1 = 25;         // 二进制00000000000000000000000000011001
    var num2 = ~num1;      // 二进制11111111111111111111111111100110
    alert(num2);           // -26

>以下代码也能得到相同的结果：
>
>   var num1 = 25;
>   var num2 = -num - 1;
>   alert(num2);          // "-26"
>
>虽然上面的代码也能返回同样的结果，但由于按位非是在数值表示的最底层执行操作，因此速度更快。
2. 按位与(AND): 按位与操作符由一个&表示，它有两个操作符数。本质上，按位与操作就是把两个数值的每一位对齐，然后根据规则，对相同位置上的两个数执行AND操作。
>简而言之，按位与操作只在两个数值的对应位都是1时才返回1，任何一位是0，结果都是0。

    var result = 25 & 3;
    alert(result);       // 1

>以上代码的底层操作如下：
>
>     25 = 0000 0000 0000 0000 0000 0000 0001 1001
>     3  = 0000 0000 0000 0000 0000 0000 0000 0011
>    ---------------------------------------------
>    AND = 0000 0000 0000 0000 0000 0000 0000 0001
>
3. 按位或(OR): 按位或操作符由一个|表示，有两个操作数。
>按位或的计算方式一样，但是规则不同，按位或操作在有一个位是1的情况下就返回1，而只有在两个位都是0的情况下才返回0。
4. 按位异或(XOR): 按位异或操作符由一个^表示，也有两个操作数。
>按位异或在两个数值对应位上只有一个1时才返回1，如果对应的两位都是1或0，则返回0。
5. 左移: 左移操作数由<<表示，它会把数值的所有位向左移指定的位数。如果将数值2(二进制码为10)向左移动5位，结果就是64(二进制码为1000000)。
>左移不会影响操作数的符号位，也就是说，如果将-2向左移动5位，结果将会是-64，而不是64。
6. 有符号的右移： 由>>表示，这个操作会将数值向右移动，但保留符号位。
7. 无符号右移： 由>>>表示，这个操作符会把数值的所有32位都向右移动。
>有符号右移是以符号位的值来填充空位，对正数来说，无符号右移的结果与有符号右移相同，但是对负数的结果就不一样了。
>其次，无符号右移操作符会把负数的二进制码当成正数的二进制码。
### 布尔操作符
布尔操作符一共有3个： 非(NOT)、与(AND)和或(OR)。
1. 逻辑非：逻辑非操作符由一个叹号(!)表示,可以应用于ECMAScript中的任何值。逻辑非操作符首先会将它的操作数转换为一个布尔值，然后再对这个值求反。
即遵循以下规则：
- 对象，返回false;
- 空字符串，返回true;
- 非空字符串，返回false;
- 数值0，返回true;
- 任意非0数值(包括Infinity),返回false;
- null，返回true;
- NaN，返回true;
- undefined，返回true。

    alert(!false);        // true
    alert(!"blue");       // false
    alert(!0);            // true
    alert(!NaN);          // true
    alert(!"");           // true
    alert(!12345);        // false

>逻辑非操作符也可以用于将一个值转换成其对应的布尔值。而同时使用两个逻辑非操作符，实际上就会模仿Boolean()转型函数的行为。
2. 逻辑与：逻辑与操作符由两个和号(&&)表示。它可以应用于任何类型的操作数，而不仅仅是布尔值。只有当两个操作数值都为true时，结果才为true。
在有一个操作数不是布尔值的情况下，逻辑与操作就不一定返回布尔值，它会遵循以下规则：
- 第一个操作数是对象，就返回第二个操作数
- 第二个操作数是对象，则只有在第一个操作数的求值结果为true的情况下才会返回该对象
- 如果两个操作数都是对象，就返回第二个操作数
- 如果有一个操作数是null，则返回null
- 如果有一个操作数是NaN，则返回NaN
- 如果有一个操作数是undefined，则返回undefined
>逻辑与操作属于短路操作，即如果第一个操作数能够决定结果，那么久不会对第一个操作数求值。如果第一个操作数是false,那么无论第二个操作数是什么值，结果都不再可能是true。

    var found = true;
    var result = (found && someUndefinedVariable);       //这里对someUndefinedVariable进行求值，发生错误
    alert(result);       // 这一行不会执行

上面的代码中因为someUndefinedVariable没有声明，所以会发生错误。但当第一个操作数是false时，就不会发生错误了。

    var found = false;
    var result = (found && someUndefinedVariable);      //不会发生错误
    alert(result);            //会执行("false")

3. 逻辑或：逻辑或操作符由两个竖线符号(||)表示。当两个操作数值中有一个为true时，结果即为true。
如果有一个操作数不是布尔值，逻辑或操作也不一定返回布尔值：
- 第一个操作数是对象，则返回第一个操作数
- 第一个操作数的求值结果为false，则返回第二个操作数
- 如果两个操作数都是对象，则返回第一个操作数
- 如果两个操作数都是null，则返回null
- 如果两个操作数都是NaN，则返回NaN
- 如果两个操作数都是undefined，则返回undefined
>逻辑或操作符也是短路操作，如果第一个操作数的求值结果为true,就不会对第二个操作数求值了。
>我们可以利用逻辑或的这一行为来避免为变量赋null或undefined值。例如：
>
>    var myObject = preferredObject || backupObject;
>
>变量preferredObject中包含优先赋给变量myObject的值，变量backupObject负责在preferredObject中不包含有效值的情况下提供后备值。
### 乘性操作符
ECMAScript定义了3个乘性操作符：乘法、除法和求模。如果参与乘性计算的某个操作数不是数值，后台会先使用Number()转型函数将其转换为数值。
1. 乘法：乘法操作符由一个星号(*)表示，用于计算两个数值的乘积。
在处理特殊值的时候，遵循以下规则：
- 如果操作数都是数值，执行常规的乘法计算，如果计算结果超过了SCMAScript数值的表示范围，则返回Infinity或-Infinity;
- 如果有一个操作数是NaN，则结果是NaN;
- 如果是Infinity与0相乘，则结果是NaN;
- 如果是Infinity与非0数值相乘，则结果是Infinity或-Infinity，取决于有符号操作数的符号;
- 如果是Infinity与Infinity相乘，则结果是Infinity;
- 如果有一个操作数不是数值，则在后台调用Number()将其转换成数值，再应用上面的规则。
2. 除法： 除法操作符由一个斜线符号(/)表示。
除法操作符针对特殊的值由以下规则处理：
- 如果操作数都是数值，执行常规的除法计算。如果计算结果超过了ECMAScript数值表示的范围，则返回Infinity或-Infinity;
- 如果有一个操作数是NaN，则结果是NaN;
- 如果是Infinity被Infinity除，则结果是NaN;
- 如果是零被零除，则结果是NaN;
- 如果是非零的有限数被零除，则结果是Infinity或-Infinity，取决于有符号操组数的符号；
- 如果是Infinity被任何非零数值除，则结果是Infinity或-Infinity，取决于有符号操作数的符号；
- 如果有一个操作数不是数值，则在后台调用Number()将其转换成数值，再应用上面的规则。
3. 求模：求模(余数)操作符由一个百分号(%)表示。
求模操作符会遵循下列规则来处理特殊值：
- 如果操作数都是数值，执行常规的除法计算，返回除得的余数
- 如果被除数是无穷大值而除数是有限大的数值，则返回结果是NaN;
- 如果被除数是有限大的数值而除数是零，则结果是NaN;
- 如果是Infinity被Infinity除，则结果是NaN;
- 如果被除数是有限大的数值而除数是无穷大的数值，则结果是被除数；
- 如果被除数是零，则结果是零；
- 如果有一个操作数不是数值，则在后台调用Number()将其转换成数值，然后再应用上面的规则。
### 加性操作符
在ECMAScript中，加法和减法都有一系列的特殊行为，会在后台转换不同的数据类型。
1. 加法
如果两个操作符都是数值，执行常规的加法计算，然后根据下列规则返回结果。
- 如果有一个操作数是NaN，则结果是NaN;
- 如果是Infinity加Infinity，则结果是-Infinity;
- 如果是Infinity加-Infinity，则结果是NaN;
- 如果是+0加+0，则结果是+0；
- 如果是-0加-0，则结果是-0；
- 如果是+0加-0，则结果是+0；
如果有一个操作数是字符串，那么就要应用如下规则：
- 如果两个操作数都是字符串，则将第二个操作数与第一个操作数拼接起来；
- 如果只有一个操作数是字符串，则将另一个操作数转换为字符串，然后再拼接起来
>如果有一个操作数是对象、数值或布尔值，则调用toString()方法取得相应的字符串值，然后再应用前面关于字符串的规则。对于undefined和null，分别调用String()函数取得字符串"undefined"和"null"。

    var result2 = 5 + "5";
    alert(result2);           // "55"


    var num1 = 5;
    var num2 = 10;
    var message = "The sum of 5 and 10 is " + (num1 + num2);
    alert(message);           //"the sum of 5 and 10 is 15"

2. 减法
与加法操作符类似，同样需要遵循一些特殊规则：
- 如果两个操作符都是数值， 则执行常规的算术减法操作并返回结果；
- 如果有一个操作数是NaN，则结果是NaN;
- 如果是Infinity减Infinity，则结果是NaN;
- 如果是-Infinity减-Infinity，则结果是NaN;
- 如果是Infinity减-Infinity，则结果是Infinity;
- 如果是-Infinity减Infinity，则结果是-Infinity;
- 如果是+0减+0，则结果是+0；
- 如果是-0减-0，则结果是+0；
- 如果是+0减-0，则结果是-0；
- 如果有一个操作数是字符串、布尔值、null或undefined，则先在后台调用Number()函数将其转换为数值，然后适用上面的规则。如果转换的结果是NaN，则减法的结果就是NaN;
- 如果有一个操作数是对象，则调用对象的valueOf()方法以取得表示该对象的数值。如果得到的是NaN，则减法的结果就是NaN。如果对象没有valueOf方法，则调用toString()方法并将得到的字符串转换成数值。
### 关系操作符
关系操作符用于对两个值进行比较：小于(<)、大于(>)、小于等于(<=)、大于等于(>=);
关系操作符的数据转换规则如下：
- 如果两个操作数都是数值，则执行数值比较
- 如果两个操作数都是字符串，则比较两个字符串对应的字符编码
- 如果一个操作数是数值，则将另一个操作数转换为一个数值，然后执行数值比较
- 如果一个操作数是对象，则调用这个对象的valueOf()方法，再应用前面的规则。如果对象 没有valueOf()方法，则调用toString()方法，并用得到的结果根据前面的规则执行比较。
- 如果一个操作数是布尔值，则先将其转换为数值，然后再执行比较
>在比较字符串时，实际比较的是两个字符串中对应位置的每个字符的字符编码值。由于大写字母的字符编码全部小于小写字母的字符编码，如果想要按照字母表顺序比较字符创，必须把两个操作数都转换成统一大小写形式，再执行比较。
>任何操作数与NaN比较，结果都是false.
>
>    var result = "a" < 3;           //false,"a"被转换成了NaN
>    var result2 = NaN >= 3;         //false
>
### 相等操作符
由于对象的比较表复杂，因此ECMAScript提供了两组操作符：相等和不相等——先转换再比较，全等和不全等——仅比较而不转换。
1. 相等和不相等
ECMAScript中的相等操作符由两个等于号(==)表示，如果两个操作数相等，则返回true。而不相等操作符由叹号后跟等于号(!=)表示，如果两个操作数不相等，则返回true。
这两个操作符都会先转换操作数(强制转型)，再比较它们的相等性。
在转换不同的数据类型时，遵循以下规则：
- 如果有一个操作数是布尔值，则先把它转换成数值，false转为0，true转为1;
- 如果有一个操作数是字符串，另一个操作数是数值，则先将字符串转换成数值；
- 如果有一个操作数是对象，另一个操作数不是，则调用对象的valueOf()方法，用得到的基本类型值按照前面的规则进行比较；
在进行比较时，要遵循以下规则：
- null和undefined是相等的
- 要比较相等性之前，不能将null和undefined转换成其它任何值
- 如果有一个操作数是NaN,则相等操作符返回false,不相等操作符返回true。
- 如果两个操作数都是对象，则比较它们是不是同一个对象，如果两个操作数都指向同一个对象，则相等操作符返回true;否则，返回false。
2. 全等和不全等
全等操作符由(===)表示，它只在两个操作数未经转换就相等的情况下返回true。
>null == undefined 会返回true，因为它们是类似的值；但null === undefined会返回false，因为它们是不同类型的值。
### 条件操作符
基于对boolean_expression的求职结果，决定给变量赋什么值：

    variable = boolean_expression ? true_value : false_value;

### 赋值操作符
简单的赋值操作符由等于号(=)表示，其作用是把右侧的值赋给左侧的变量。
在等号前面添加乘性操作符、加性操作符或位操作符，就可以完成复合赋值操作。
每个主要算术操作符都有对应的复合赋值操作符：
- 乘/赋值(*=);
- 除/赋值(/=);
- 模/赋值(%=);
- 加/赋值(+=);
- 减/赋值(-=);
- 左移赋值(<<=);
- 有符号右移/赋值(>>=);
- 无符号右移/赋值(>>>=)。